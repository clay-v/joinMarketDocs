(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{365:function(e,t,o){e.exports=o.p+"assets/img/JMQrpcfailed.2d900b7b.png"},366:function(e,t,o){e.exports=o.p+"assets/img/JMQInitregtest.ee2f760e.png"},367:function(e,t,o){e.exports=o.p+"assets/img/JMQseedphrase.15b1a99c.png"},368:function(e,t,o){e.exports=o.p+"assets/img/JMQenterpassword.5fce91c4.png"},369:function(e,t,o){e.exports=o.p+"assets/img/JMQnewwalletfile.b814c29f.png"},370:function(e,t,o){e.exports=o.p+"assets/img/JMQwalletloaded.a65b4e35.png"},371:function(e,t,o){e.exports=o.p+"assets/img/JMQwalletcoinsloadedregtest.ed595ec7.png"},372:function(e,t,o){e.exports=o.p+"assets/img/JMQsettingsregtest.58b003e0.png"},373:function(e,t,o){e.exports=o.p+"assets/img/JMQSingleCJregtest.29730624.png"},374:function(e,t,o){e.exports=o.p+"assets/img/JMQchecktransactionregtest.5ee50c6a.png"},375:function(e,t,o){e.exports=o.p+"assets/img/jm_transactionsuccess.35746c85.png"},376:function(e,t,o){e.exports=o.p+"assets/img/JMQtxcompletedsendregtest.38ab4a73.png"},377:function(e,t,o){e.exports=o.p+"assets/img/JMQtxhistoryregtest.2ae685de.png"},378:function(e,t,o){e.exports=o.p+"assets/img/JMQTumbleWizard1regtest.cb8fb581.png"},379:function(e,t,o){e.exports=o.p+"assets/img/JMQTumbleWizard2regtest.d38705d0.png"},380:function(e,t,o){e.exports=o.p+"assets/img/JMQTumbleWizard3regtest.87c6896e.png"},381:function(e,t,o){e.exports=o.p+"assets/img/JMQTumbleWizard4regtest.e229f7e2.png"},382:function(e,t,o){e.exports=o.p+"assets/img/JMQTumblePreStartregtest.9717746d.png"},383:function(e,t,o){e.exports=o.p+"assets/img/JMQCoinsTabregtest.2a60d8bb.png"},400:function(e,t,o){"use strict";o.r(t);var n=o(40),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"walkthrough-for-running-joinmarket-qt-to-do-coinjoins-single-or-tumbler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#walkthrough-for-running-joinmarket-qt-to-do-coinjoins-single-or-tumbler"}},[e._v("#")]),e._v(" Walkthrough for running Joinmarket-Qt to do coinjoins (single or tumbler)")]),e._v(" "),n("h3",{attrs:{id:"binary-or-script"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#binary-or-script"}},[e._v("#")]),e._v(" Binary or script")]),e._v(" "),n("p",[e._v("The GUI can be run directly from Python script by doing "),n("code",[e._v("./joinmarket-qt.sh")]),e._v(" from within "),n("code",[e._v("scripts/")]),e._v(", or, if using Microsoft Windows, by running the executable file/binary ("),n("strong",[n("a",{attrs:{href:"https://github.com/JoinMarket-Org/joinmarket-clientserver/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("CLICK HERE"),n("OutboundLink")],1)]),e._v(" to download the latest release). If you followed normal installation procedure under Linux, desktop entry of JoinMarketQt should be added to the application menu of your desktop environment.")]),e._v(" "),n("p",[n("strong",[e._v("LATEST VERSION of JoinMarket-Qt is GUI version 20")]),e._v(". You can check the version via "),n("code",[e._v("About")]),e._v(" in the menu.")]),e._v(" "),n("p",[e._v("No other files / setup should be needed.")]),e._v(" "),n("p",[e._v("The GitHub commits to the main repo, above, are signed.")]),e._v(" "),n("p",[n("strong",[e._v("Contents")])]),e._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"#walkthrough"}},[e._v("Walkthrough")]),e._v(" - for starting out.")])]),e._v(" "),n("li",[n("p",[n("a",{attrs:{href:"#tumbler"}},[e._v("Tumbler")]),e._v(" - basic walkthrough for the tumbler feature in the GUI.")])]),e._v(" "),n("li",[n("p",[e._v("Other features")]),e._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"#sweeps"}},[e._v("Sweeps")])])]),e._v(" "),n("li",[n("p",[n("a",{attrs:{href:"#coins-tab"}},[e._v("Coins tab")])])]),e._v(" "),n("li",[n("p",[n("a",{attrs:{href:"#export-private-keys"}},[e._v("Exporting private keys")])])])])])]),e._v(" "),n("p",[e._v("("),n("em",[e._v("Before starting, note that the screenshots here use testnet p2sh addresses (start with '2'), but by default Joinmarket mainnet addresses are native segwit ('bc1')")]),e._v(").")]),e._v(" "),n("h3",{attrs:{id:"walkthrough"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#walkthrough"}},[e._v("#")]),e._v(" Walkthrough")]),e._v(" "),n("p",[e._v("Ensure Bitcoin Core is running, and synced. (Your version of Bitcoin Core must be compiled with wallet support).")]),e._v(" "),n("p",[e._v("Double click the binary to run it, or go to the "),n("code",[e._v("/scripts")]),e._v(" subdirectory and run "),n("code",[e._v("joinmarket-qt.sh")]),e._v(".")]),e._v(" "),n("p",[e._v("You will get the following error screen initially:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(365),alt:""}})]),e._v(" "),n("p",[e._v("... because your rpc connection to Bitcoin Core is not set up. A "),n("code",[e._v("joinmarket.cfg")]),e._v(" file\nhas been created in your Joinmarket data directory (see "),n("RouterLink",{attrs:{to:"/users/USAGE.html#data"}},[e._v("here")]),e._v("). If you're running Bitcoin Core, open it and edit:")],1),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("[BLOCKCHAIN]\nrpc_user = yourusername-as-in-bitcoin.conf\nrpc_password = yourpassword-as-in-bitcoin.conf\nrpc_host = localhost #default usually correct\nrpc_port = 8332 # default for mainnet\n")])])]),n("p",[e._v("Before restarting though, you're strongly advised to make the configuration change explained "),n("RouterLink",{attrs:{to:"/users/USAGE.html#setting-core-wallet"}},[e._v("here")]),e._v(', this\nmay avoid possible RPC errors (indeed, read the whole of that section on "Configuring for Bitcoin Core").')],1),e._v(" "),n("p",[e._v("Once the rpc connection is correct, and you restart, you will be presented with this start screen:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(366),alt:""}})]),e._v(" "),n("p",[e._v('Note "CURRENT WALLET: NONE" means no joinmarket wallet is loaded yet. Assuming you haven\'t\nyet created one, do Wallet->Generate (otherwise, do Wallet--\x3eLoad):')]),e._v(" "),n("p",[n("img",{attrs:{src:o(367),alt:""}})]),e._v(" "),n("p",[e._v("This list of 12 words allows you to recreate the wallet in future. "),n("strong",[e._v("WRITE IT DOWN and do not\nlose it under any circumstances")]),e._v("! (This seedphrase has the same function as for all other\nHD wallets, like Electrum, Trezor etc. The seedphrase should be compatible with Trezor, Ledger, Electrum, Samourai and some others).")]),e._v(" "),n("p",[e._v("Next, enter a password for encrypting the wallet:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(368),alt:""}})]),e._v(" "),n("p",[e._v("Losing this password means you won't be able to access this wallet file and will cause\ninconvenience, but you'll still be able to recover the coins with the above seedphrase.")]),e._v(" "),n("p",[e._v("Next, give a name for your wallet file:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(369),alt:""}})]),e._v(" "),n("p",[e._v("The wallet file will be saved with this name under the directory "),n("code",[e._v("wallets")]),e._v(" in the same data directory as mentioned above.")]),e._v(" "),n("p",[e._v("Joinmarket wallet file names are .jmdat by default; this isn't strictly necessary, but better to\nstick to that convention.")]),e._v(" "),n("p",[e._v('The wallet will now automatically load from the your Bitcoin Core node. It may take a few seconds, during which you\'ll see "Reading wallet from blockchain...".')]),e._v(" "),n("p",[e._v('If JoinMarketQt gets stuck at "Reading wallet from blockchain..." state, one possible solution may be to ensure you have set '),n("code",[e._v("rpc_wallet_file")]),e._v(" correctly\nas described above. You can also check the terminal you ran the "),n("code",[e._v("joinmarket-qt.sh")]),e._v(" script from for other error messages.")]),e._v(" "),n("p",[e._v("Since you just created it, it will have no coins initially:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(370),alt:""}})]),e._v(" "),n("p",[e._v('Start out by putting some coins into the first address in the "EXTERNAL" section\nof mixdepth 0. Once you have coins in the wallet it will show something like this\n(after a few transactions):')]),e._v(" "),n("p",[n("img",{attrs:{src:o(371),alt:""}})]),e._v(" "),n("p",[e._v('This is a good time to explain "EXTERNAL" and "INTERNAL"; external is for paying in.\nUse the \'new\' addresses to ensure no address reuse, when you want to pay into the wallet.\nWhen paying out, Joinmarket will take coins from '),n("em",[e._v("both")]),e._v(' from the internal and external.\nThe long string after "EXTERNAL" and "INTERNAL" are the "xpub" keys that can be used in\nsome advanced ways (they can be exported to allow watching accounts, for example).')]),e._v(" "),n("p",[e._v('Next (and you could have done this at the start), take a look at the "Settings" tab.')]),e._v(" "),n("p",[n("img",{attrs:{src:o(372),alt:""}})]),e._v(" "),n("p",[e._v("(This is a testnet/regtest example; your settings will look different on mainnet).")]),e._v(" "),n("p",[e._v("The tooltips seen by hovering the mouse give brief explanations of all the settings.")]),e._v(" "),n("p",[e._v("There are a lot of settings, most of which can be left default. Here are some notes:")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("Section "),n("strong",[e._v("DAEMON")]),e._v(" - best ignore this for now, advanced usage.")])]),e._v(" "),n("li",[n("p",[e._v("Section "),n("strong",[e._v("BLOCKCHAIN")]),e._v(" - You made the necessary edits at the start. Also, the application is compatible with Testnet, if you check that box. Note however that there isn't currently an active testnet trading pit, although this changes from time to time.")])]),e._v(" "),n("li",[n("p",[e._v("Section "),n("strong",[e._v("MESSAGING")]),e._v(" - here you can choose the IRC servers, the default 2 should be fine. Note how all the settings are comma-separated lists, they have to match in number (i.e. 2 entries for "),n("em",[e._v("all")]),e._v(" or 3 for "),n("em",[e._v("all")]),e._v(" etc.). If you want to connect over Tor, use the socks proxy options. See the notes on that in the "),n("code",[e._v("joinmarket.cfg")]),e._v(" file.")])]),e._v(" "),n("li",[n("p",[e._v("Section "),n("strong",[e._v("LOGGING")]),e._v(" - only one option here, leave it INFO or change to DEBUG if you wanted detailed logging output.")])]),e._v(" "),n("li",[n("p",[e._v("Section "),n("strong",[e._v("TIMEOUT")]),e._v(" - leave this as-is (some options are deprecated anyway).")])]),e._v(" "),n("li",[n("p",[e._v("Section "),n("strong",[e._v("POLICY")]),e._v(" - You might want to change "),n("code",[e._v("tx_fees")]),e._v(". Hover over the setting for the tooltip explanation.")])]),e._v(" "),n("li",[n("p",[e._v("Section "),n("strong",[e._v("GUI")]),e._v(" - these aren't GUI specific as the name suggests, and one or two are important. "),n("code",[e._v("gaplimit")]),e._v(" is how far forward to search for used addresses on each branch before giving up; you're unlikely to need to change this. "),n("code",[e._v("history_file")]),e._v(" is the name of the file in which the history of transactions you've performed is being recorded in plaintext. Consider the privacy implications. "),n("code",[e._v("check_high_fee")]),e._v(" is a sanity check that the percentage fee you're being charged by counterparties isn't above that percent limit. "),n("code",[e._v("max_mix_depth")]),e._v(' is how many "mixdepths" (or accounts) you have in your wallet. The default, 5, will be fine for most people. '),n("code",[e._v("check_tx")]),e._v(" is whether to block processing and look at the fees in detail before accepting; this should usually be used for single coinjoins, but will not be used for tumbling.")])])]),e._v(" "),n("p",[e._v("Next, we'll send a test transaction:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(373),alt:""}})]),e._v(" "),n("p",[e._v('In the Coinjoins tab, select the "Single Join" subtab.')]),e._v(" "),n("p",[e._v("The donation feature is disabled; you can donate to the general JM donation address found in the "),n("code",[e._v("About")]),e._v(" window from the menu.")]),e._v(" "),n("p",[e._v("Paste the address you want to send to under "),n("code",[e._v("Recipient address")]),e._v(".")]),e._v(" "),n("p",[e._v("The number of counterparties can be anything from 4 up to 20 (in theory you can make\ncoinjoin with even 1 counterparty, but that will not work with the default settings\nand is not a recommended practice for privacy reasons); realistically, numbers\ngreater than about 10 can sometimes get a bit problematic, for a number of reasons, e.g.\nthe fact that the transaction fee gets large, there might not be enough counterparties\nwith sensible fees, messaging delays etc. Having said that, joins with 10-15 counterparties\n"),n("em",[e._v("can")]),e._v(" be done, and have been. But for ordinary working, we recommend a figure between\n4 and 10 as fine.")]),e._v(" "),n("p",[e._v("Mixdepth: this is not completely obvious, and is "),n("strong",[e._v("important")]),e._v(": this is "),n("em",[e._v("where you are\nspending the coins from")]),e._v(". If you have 2 BTC in mixdepth 0 and 1 BTC in mixdepth 3, and\nyou want to send 1.4 coins you must type "),n("code",[e._v("0")]),e._v(" in this box; Joinmarket only spends coins\nfrom one mixdepth at one time, to aid privacy.")]),e._v(" "),n("p",[e._v("Amount in BTC or satoshis is the amount the recipient address\nwill actually receive; so don't add any transaction fees or coinjoin fees here.")]),e._v(" "),n("p",[e._v("Once the settings are done, click Start. "),n("strong",[e._v("NOTE")]),e._v(" you haven't committed to the transaction\nyet at this point (if you didn't edit the "),n("code",[e._v("checktx")]),e._v(" setting in Settings). After a little delay (it can be changed using the setting "),n("code",[e._v("order_wait_time")]),e._v(") while you're connecting to IRC and gathering orders, you'll eventually see a prompt like this:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(374),alt:""}})]),e._v(" "),n("p",[e._v("You'll see that 4 (or whatever number you chose) counterparties have been selected. The\nselection is partly random and partly favouring fees as low as possible. The percentage\nfee is shown: in this case, it's 0.199% of 1.439, i.e. 285800 satoshis. Note that (a) this is a fake testing mode transaction, so these figures are not meaningful, but (b) this is the "),n("strong",[e._v("coinjoin fee")]),e._v(", it does not include the "),n("strong",[e._v("bitcoin transaction fee")]),e._v(" which can be significantly larger, in many cases.")]),e._v(" "),n("p",[e._v("If you don't like the fee, click No and the transaction is just aborted. If you click Yes,\nyou are now committed to the transaction; you "),n("em",[e._v("can")]),e._v(" click \"Abort\" after this (or indeed before), but it won't be guaranteed that the tx won't go through after this. Assuming all goes well, you will see this:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(375),alt:""}})]),e._v(" "),n("p",[e._v("The coinjoin transaction has now been broadcast to the blockchain.")]),e._v(" "),n("p",[e._v("Once the transaction is finished, the Single Join tab will look something like this:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(376),alt:""}})]),e._v(" "),n("p",[e._v("You can refer to the previous transactions you've done in the Tx History tab:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(377),alt:""}})]),e._v(" "),n("h3",{attrs:{id:"tumbler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tumbler"}},[e._v("#")]),e._v(" Tumbler")]),e._v(" "),n("p",[e._v('This walkthrough only showed the introductory steps to doing a first coinjoin. The main additional feature\nis "tumbler" algorithm, doing a set of coinjoins to move all coins from the wallet to a set of destinations,\nwith a much higher degree of privacy. For the fundamental ideas you should start '),n("a",{attrs:{href:"https://github.com/JoinMarket-Org/joinmarket/wiki/Step-by-step-running-the-tumbler",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),n("OutboundLink")],1),e._v("; this is "),n("em",[e._v("basically")]),e._v(' the same, with some extra robustness features (and in a GUI, of course). Start in the "Multiple joins" tab and click the button '),n("code",[e._v("Generate Tumble Schedule")]),e._v(". A wizard starts:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(378),alt:""}})]),e._v(" "),n("p",[e._v("First step is obvious (manual is not yet implemented).")]),e._v(" "),n("p",[n("img",{attrs:{src:o(379),alt:""}})]),e._v(" "),n("p",[e._v("The base set of parameters, you "),n("em",[e._v("may")]),e._v(" want to change some of these; see the tooltips for further info. Start from the first mixdepth that has coins (0 is the first, the default set is 0,1,2,3,4). You can also have coins in later mixdepths when you start, that's OK. Note that the two fee limits at the end are combined in AND fashion - if only one limit is violated, the fee will be accepted.")]),e._v(" "),n("p",[n("img",{attrs:{src:o(380),alt:""}})]),e._v(" "),n("p",[e._v("You are advised to have "),n("strong",[e._v("at least")]),e._v(' three destination addresses. The tumbler algorithm really doesn\'t work if there is only one destination. You can use more than 3, but the number allowed depends on how many mixdepths you tumble through. The option "address ask" is only available in the command line script version.')]),e._v(" "),n("p",[n("img",{attrs:{src:o(381),alt:""}})]),e._v(" "),n("p",[e._v("These advanced options are best left unchanged; as usual the tooltips give some further info if you do want to amend them.")]),e._v(" "),n("p",[e._v("On completing the wizard, you will see a new schedule displayed in the tab:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(382),alt:""}})]),e._v(" "),n("p",[e._v('You\'ll see your destination addresses in the list, and lots of "INTERNAL" meaning transactions that send back to the wallet (in the next mixdepth). Click '),n("code",[e._v("Run Schedule")]),e._v(" and the tumbler will start. As it progresses, you'll see updates to the schedule (in particular the last entry in each list will change from "),n("code",[e._v("0")]),e._v(" to "),n("code",[e._v("txid")]),e._v(" to "),n("code",[e._v("1")]),e._v(" when finished). The full tumbler run will usually take at least a few hours, as you'll understand if you read the wiki page linked above.")]),e._v(" "),n("h3",{attrs:{id:"sweeps"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sweeps"}},[e._v("#")]),e._v(" Sweeps")]),e._v(" "),n("p",[e._v("If you want to send "),n("em",[e._v("all")]),e._v(' the coins in a specific mixdepth at once, the correct way to do it\nis using the "sweep" feature. To do this, simply set the "Amount" field in the Single Join tab to zero. The program will automatically figure out the right output amount after accounting for the coinjoin and bitcoin transaction fees. If you try to send total amount, you will get a "not enough funds" error. Putting it another way, you\'ll end up with dust in the wallet if you try to send the total without using this sweep feature, so do use it.')]),e._v(" "),n("h3",{attrs:{id:"coins-tab"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#coins-tab"}},[e._v("#")]),e._v(" Coins Tab")]),e._v(" "),n("p",[e._v("You can use the coins tab to (a) check the exact utxos owned by your wallet and (b) freeze or unfreeze certain utxos (coins) to allow coin control.")]),e._v(" "),n("p",[e._v('The latter can be done by right clicking on a utxo and choosing "freeze/unfreeze" (the action toggles).')]),e._v(" "),n("p",[n("img",{attrs:{src:o(383),alt:""}})]),e._v(" "),n("p",[e._v("This can be useful if you want to spend from one or more specific utxos. Disable (freeze) the "),n("em",[e._v("other")]),e._v(" coins in that mixdepth. Remember, Joinmarket will "),n("em",[e._v("never")]),e._v(" co-spend utxos from different mixdepths (accounts), in any kind of transaction - they are completely isolated accounts.")]),e._v(" "),n("h3",{attrs:{id:"export-private-keys"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#export-private-keys"}},[e._v("#")]),e._v(" Export private keys")]),e._v(" "),n("p",[n("strong",[e._v("DON'T TRY TO USE THIS USUALLY")]),e._v(".\nYou should be able to import the wallet into some other wallets, as was mentioned above.\nsegwit wallets are implemented there. The keys here control coins (utxos), but only according to the p2sh/p2wpkh standard within segwit; if you import them into a random wallet they won't show any coins.")]),e._v(" "),n("p",[e._v("If this feature is still useful for some reason:")]),e._v(" "),n("p",[e._v('In the wallet menu, choose "Export keys" and you will be\nshown a list of all the private keys for addresses that currently cointain coins.\nHandling private keys is not advisable, even for the experienced Bitcoin user. Disclosing even one BIP32\nprivate key in your wallet can theoretically expose the whole wallet, also.\nThe keys displayed can be saved to a file if you wish (again, be very careful),\nor you can copy-paste them elsewhere. They are in WIF compressed format (start with\nK or L on mainnet).')])])}),[],!1,null,null,null);t.default=s.exports}}]);