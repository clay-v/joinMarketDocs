<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JoinMarket Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Make a coinjoin at any time">
    
    <link rel="preload" href="/joinMarketDocs/assets/css/0.styles.47da2780.css" as="style"><link rel="preload" href="/joinMarketDocs/assets/js/app.e0a96047.js" as="script"><link rel="preload" href="/joinMarketDocs/assets/js/2.96e2a3f8.js" as="script"><link rel="preload" href="/joinMarketDocs/assets/js/22.7969ece1.js" as="script"><link rel="prefetch" href="/joinMarketDocs/assets/js/10.8bb8a683.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/11.e4445083.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/12.fc2547b9.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/13.908ea9c6.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/14.2f99d1b3.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/15.72679292.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/16.cb0ef4ad.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/17.172e09bc.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/18.ae9324bc.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/19.3db863c1.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/20.90af7f93.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/21.b31423ce.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/23.ad6d9879.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/24.999ff3b4.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/25.d35fbd9a.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/26.b2e61fcb.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/27.d3754327.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/3.f842ec0d.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/4.cee798b2.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/5.636e11bd.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/6.0af6a184.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/7.0d7dc195.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/8.b445599c.js"><link rel="prefetch" href="/joinMarketDocs/assets/js/9.92136928.js">
    <link rel="stylesheet" href="/joinMarketDocs/assets/css/0.styles.47da2780.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/joinMarketDocs/" class="home-link router-link-active"><!----> <span class="site-name">JoinMarket Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/joinMarketDocs/" aria-current="page" class="sidebar-link">Home</a></li><li><section class="sidebar-group depth-0"><a href="/joinMarketDocs/users" class="sidebar-heading clickable router-link-active open"><span>User Guide</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/joinMarketDocs/users/architecture-notes.html" class="sidebar-link">architecture-notes</a></li><li><a href="/joinMarketDocs/users/config-irc-update.html" class="sidebar-link">config-irc-update</a></li><li><a href="/joinMarketDocs/users/fidelity-bonds.html" class="sidebar-link">fidelity-bonds</a></li><li><a href="/joinMarketDocs/users/INSTALL.html" class="sidebar-link">INSTALL</a></li><li><a href="/joinMarketDocs/users/JOINMARKET-QT-GUIDE.html" class="sidebar-link">JOINMARKET-QT-GUIDE</a></li><li><a href="/joinMarketDocs/users/NATIVE-SEGWIT-UPGRADE.html" class="sidebar-link">NATIVE-SEGWIT-UPGRADE</a></li><li><a href="/joinMarketDocs/users/orderbook.html" class="sidebar-link">orderbook</a></li><li><a href="/joinMarketDocs/users/PAYJOIN.html" class="sidebar-link">PAYJOIN</a></li><li><a href="/joinMarketDocs/users/SNICKER.html" class="sidebar-link">SNICKER</a></li><li><a href="/joinMarketDocs/users/SOURCING-COMMITMENTS.html" class="sidebar-link">SOURCING-COMMITMENTS</a></li><li><a href="/joinMarketDocs/users/TODO.html" class="sidebar-link">TODO</a></li><li><a href="/joinMarketDocs/users/TESTING.html" class="sidebar-link">TESTING</a></li><li><a href="/joinMarketDocs/users/tumblerguide.html" class="sidebar-link">tumblerguide</a></li><li><a href="/joinMarketDocs/users/USAGE.html" class="sidebar-link">USAGE</a></li><li><a href="/joinMarketDocs/users/YIELDGENERATOR.html" aria-current="page" class="active sidebar-link">YIELDGENERATOR</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/joinMarketDocs/users/YIELDGENERATOR.html#a-few-words-about-incentives" class="sidebar-link">A few words about incentives</a></li><li class="sidebar-sub-header"><a href="/joinMarketDocs/users/YIELDGENERATOR.html#requirements-how-to" class="sidebar-link">Requirements / How-to</a></li><li class="sidebar-sub-header"><a href="/joinMarketDocs/users/YIELDGENERATOR.html#configuring" class="sidebar-link">Configuring</a></li><li class="sidebar-sub-header"><a href="/joinMarketDocs/users/YIELDGENERATOR.html#keeping-track-of-returns" class="sidebar-link">Keeping Track of Returns</a></li><li class="sidebar-sub-header"><a href="/joinMarketDocs/users/YIELDGENERATOR.html#i-deposited-x-btc-into-yield-generator-why-is-it-only-offering-y-x-btc-in-the-market" class="sidebar-link">I deposited X btc into yield generator, why is it only offering Y (&lt; X) btc in the market?</a></li><li class="sidebar-sub-header"><a href="/joinMarketDocs/users/YIELDGENERATOR.html#my-bitcoins-have-been-split-up-into-many-small-utxos" class="sidebar-link">My bitcoins have been split up into many small UTXOs</a></li><li class="sidebar-sub-header"><a href="/joinMarketDocs/users/YIELDGENERATOR.html#how-to-run-yield-generator-in-background" class="sidebar-link">How to run yield generator in background</a></li><li class="sidebar-sub-header"><a href="/joinMarketDocs/users/YIELDGENERATOR.html#modifying-the-algorithm" class="sidebar-link">Modifying the algorithm</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/joinMarketDocs/developers" class="sidebar-heading clickable"><span>Developer Guide</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/joinMarketDocs/developers/ArchOverview.html" class="sidebar-link">ArchOverview</a></li><li><a href="/joinMarketDocs/developers/High-level-design.html" class="sidebar-link">High-level-design</a></li><li><a href="/joinMarketDocs/developers/Joinmarket-messaging-protocol.html" class="sidebar-link">Joinmarket-messaging-protocol</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>A &quot;yield generator&quot; is a JoinMarket bot which does market-making of CoinJoins to produce an income as a join &quot;Maker&quot;. The bot connects to the JoinMarket trading pit on the available messaging channels, announces its offers and waits. Market &quot;Takers&quot; will communicate with it to create a CoinJoin transaction.</p> <h2 id="a-few-words-about-incentives"><a href="#a-few-words-about-incentives" class="header-anchor">#</a> A few words about incentives</h2> <p>The first thing to understand is that this is not a bank account with a guaranteed interest rate. You are selling a product, namely coinjoins, and your customers can take it or leave it depending on your offered fee, range of available coinjoin amount, internet speed, latency and so on. Most of the actual decision-making is done by software bots rather than humans but the same principles apply. The algorithm for market takers remembers yield generators they previously dealt with and avoid those who did not offer a good experience. You have an incentive to be on your best behavior.</p> <h3 id="things-you-need"><a href="#things-you-need" class="header-anchor">#</a> Things You Need</h3> <ul><li>A local Bitcoin full node running with JoinMarket. No other Bitcoin blockchain access is currently supported. Your node can be pruned.</li> <li>A reliable, relatively fast, always-on internet connection. CoinJoins require multiple people to take part, if one yield generator times-out or is slow, the entire process is held up or must be restarted. People are looking for joins 24/7, so you'll need to run Joinmarket all the time to make joins as well. The entire point of a market maker is to offer a deal immediately, without any waiting or hold-ups.</li> <li>A significant enough Bitcoin balance in your joinmarket wallet to offer a wide range of coinjoin amounts. If you can only offer from zero to 1 million satoshis (0.01 BTC), you're unlikely to get many coinjoin deals. The bigger your balance, the better.</li> <li>Update often. This software is still in the very early stages. Keep an eye out of updates. Perhaps subscribe to the <a href="https://twitter.com/joinmarket/" target="_blank" rel="noopener noreferrer">twitter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <a href="https://www.reddit.com/r/joinmarket" target="_blank" rel="noopener noreferrer">subreddit<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to get news about updates.</li></ul> <h2 id="requirements-how-to"><a href="#requirements-how-to" class="header-anchor">#</a> Requirements / How-to</h2> <p>You will need to:</p> <ul><li>Install JoinMarket (see the README file of this repository, then follow the <a href="/joinMarketDocs/users/USAGE.html">usage guide</a>).</li> <li>If you've followed the usage guide and funded your wallet with some coins (anywhere is fine, but the 0th mixdepth is most logical), you can then configure your yield generator script:</li> <li>First, choose a yg script. For beginners, use one of the defaults (as in the next bullet point). But you can also use more customised and advanced scripts, found <a href="https://github.com/Joinmarket-Org/custom-scripts" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Edit <code>yg-privacyenhanced.py</code> or <code>yield-generator-basic.py</code> (former is recommended) at the top of the file with your chosen fee selections, then run this variant yield-generator.py on a permanently-on computer with a stable internet connection. For example:
(jmvenv)$ python yg-privacyenhanced.py yournewwallet.jmdat</li> <li>Wait and be patient. The volume of joins is always dependent on the number of takers. A successful join may take a day or longer to appear.</li></ul> <h2 id="configuring"><a href="#configuring" class="header-anchor">#</a> Configuring</h2> <p>Open one of the two built-in yield generators: <code>yield-generator-basic.py</code> or <code>yg-privacyenhanced.py</code> in a text editor and edit the configuration. Currently these are the fields. Most of them can just be left at the default values.</p> <div class="language- extra-class"><pre><code>txfee = 1000
cjfee_a = 2000
cjfee_r = '0.0002' # 0.02% fee
ordertype = 'reloffer'
minsize = int(1.2 * txfee / float(cjfee)) #minimum size is such that you always net profit at least 20% of the miner fee
</code></pre></div><p>Meaning of fields:</p> <ul><li>txfee. The yield generators contribution to the miner fee.</li> <li>ordertype. One of 'reloffer', 'absoffer'</li> <li>cjfee_r. Your offered coinjoin fee as a fraction of the coinjoin amount (for 'reloffer'). Takers pay this to you.</li> <li>cjfee_a. Your offered coinjoin fee as an absolute number of satoshis (for 'absoffer').</li></ul> <h2 id="keeping-track-of-returns"><a href="#keeping-track-of-returns" class="header-anchor">#</a> Keeping Track of Returns</h2> <p>As well as simply viewing your balance in-wallet occasionally as explained in the <a href="/joinMarketDocs/users/USAGE.html">usage guide</a>, the history can also be calculated with the <code>history</code> method, also explained in that document.</p> <h2 id="i-deposited-x-btc-into-yield-generator-why-is-it-only-offering-y-x-btc-in-the-market"><a href="#i-deposited-x-btc-into-yield-generator-why-is-it-only-offering-y-x-btc-in-the-market" class="header-anchor">#</a> I deposited X btc into yield generator, why is it only offering Y (&lt; X) btc in the market?</h2> <p>Short answer: privacy</p> <p>Long answer: https://bitcointalk.org/index.php?topic=919116.msg11465848#msg11465848</p> <h2 id="my-bitcoins-have-been-split-up-into-many-small-utxos"><a href="#my-bitcoins-have-been-split-up-into-many-small-utxos" class="header-anchor">#</a> My bitcoins have been split up into many small UTXOs</h2> <p>You may wish to change the input merging policy in <code>joinmarket.cfg</code>, see this page: https://github.com/JoinMarket-Org/joinmarket/wiki/Configuring-with-joinmarket.cfg#input-merging-policy</p> <p>The value of <code>gradual</code> or <code>greedy</code> is usually good for keeping the number of inputs from getting too large.</p> <h2 id="how-to-run-yield-generator-in-background"><a href="#how-to-run-yield-generator-in-background" class="header-anchor">#</a> How to run yield generator in background</h2> <p>Use <a href="https://man.openbsd.org/OpenBSD-current/man1/tmux.1" target="_blank" rel="noopener noreferrer">tmux<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <a href="https://www.gnu.org/software/screen/" target="_blank" rel="noopener noreferrer">GNU Screen<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="modifying-the-algorithm"><a href="#modifying-the-algorithm" class="header-anchor">#</a> Modifying the algorithm</h2> <p>If you are a programmer you could try creating your own algorithm for the yield generator.</p> <p>Other yield-generator algorithms are in a separate github repository: https://github.com/JoinMarket-Org/custom-scripts Many more people can work on them without the possibility of putting the main JoinMarket code in danger.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/joinMarketDocs/users/USAGE.html" class="prev">
        USAGE
      </a></span> <span class="next"><a href="/joinMarketDocs/developers/ArchOverview.html">
        ArchOverview
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/joinMarketDocs/assets/js/app.e0a96047.js" defer></script><script src="/joinMarketDocs/assets/js/2.96e2a3f8.js" defer></script><script src="/joinMarketDocs/assets/js/22.7969ece1.js" defer></script>
  </body>
</html>
